<form [formGroup]="form" (ngSubmit)="onSubmit()" class="d-grid gap-3">
  <h2 class="text-center mb-3">Forgot Password</h2>
  @if (sent()) {
    <div class="alert alert-success text-center">Reset link sent! Check your email.</div>
  } @else {
    <label class="form-label">
      <b>Email</b>
      <input
        id="email"
        type="email"
        class="form-control"
        [formControl]="form.controls.email"
        placeholder="Enter your email"
        required
      />
      <strong *ngxControlError="form.controls.email; track: 'required'">Email is required.</strong>
      <strong *ngxControlError="form.controls.email; track: 'email'">Invalid email address.</strong>
    </label>
    <button class="btn btn-warning w-100" type="submit" [disabled]="loading() || form.invalid">
      @if (loading()) {
        <span class="spinner-border spinner-border-sm me-2"></span> Sending...
      } @else {
        Send Reset Link
      }
    </button>
  }
  <div class="text-center mt-3">
    <a [routerLink]="['../login']" [relativeTo]="route" class="small">Back to Login</a>
  </div>
</form>
