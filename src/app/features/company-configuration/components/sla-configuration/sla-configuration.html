<!-- Header Row -->
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3 class="mb-0">SLA Settings</h3>
  <button class="btn btn-primary" (click)="openAdd()">Add SLA Rule</button>
</div>

<!-- SLA Summary Tiles -->
<div class="sla-summary row g-3 mb-4">
  <!-- Total Rules -->
  <div class="col-md-3 col-sm-6">
    <div class="card text-center shadow-sm p-3 border-0">
      <h6 class="text-muted mb-2">Total Rules</h6>
      <h4 class="fw-bold text-primary mb-0">{{ totalRules }}</h4>
      <i class="bi bi-list-check text-primary fs-4"></i>
    </div>
  </div>

  <!-- Active Rules -->
  <div class="col-md-3 col-sm-6">
    <div class="card text-center shadow-sm p-3 border-0">
      <h6 class="text-muted mb-2">Active Rules</h6>
      <h4 class="fw-bold text-success mb-0">{{ activeRules }}</h4>
      <i class="bi bi-clock-history text-success fs-4"></i>
    </div>
  </div>

  <!-- Critical Rules -->
  <div class="col-md-3 col-sm-6">
    <div class="card text-center shadow-sm p-3 border-0">
      <h6 class="text-muted mb-2">Critical Rules</h6>
      <h4 class="fw-bold text-danger mb-0">{{ criticalRules }}</h4>
      <i class="bi bi-exclamation-triangle text-danger fs-4"></i>
    </div>
  </div>

  <!-- Avg Response -->
  <div class="col-md-3 col-sm-6">
    <div class="card text-center shadow-sm p-3 border-0">
      <h6 class="text-muted mb-2">Avg Response</h6>
      <h4 class="fw-bold text-info mb-0">{{ avgResponse }}h</h4>
      <i class="bi bi-stopwatch text-info fs-4"></i>
    </div>
  </div>
</div>

<!-- SLA Rules Table -->
<table class="table table-striped table-bordered align-middle">
  <thead class="table-light">
    <tr>
      <th>QMS Type</th>
      <th>Priority</th>
      <th>Response Time</th>
      <th>Resolution Time</th>
      <th>Escalation Time</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of slas()">
      <td>{{ item.type | enumToString: enumQMSType }}</td>
      <td>
        <span [class]="'badge bg-' + getPriorityColor(item.priority)">
          {{ item.priority | enumToString: enumPriority }}
        </span>
      </td>
      <td>{{ item.responseTime }} {{ item.unit | enumToString: enumUnit }}</td>
      <td>{{ item.resolutionTime }} {{ item.unit | enumToString: enumUnit }}</td>
      <td>{{ item.escalationTime }} {{ item.unit | enumToString: enumUnit }}</td>
      <td>{{ item.status | enumToString: enumRstatus }}</td>
      <td>
        <button class="btn btn-sm btn-outline-primary me-2" (click)="openEdit(item)">
          Edit
        </button>
        <button class="btn btn-sm btn-outline-danger" (click)="delete(item.id!)">
          Delete
        </button>
      </td>
    </tr>
  </tbody>
</table>
